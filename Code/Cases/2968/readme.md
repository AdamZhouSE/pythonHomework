### 题目描述

给定一个字符串s以及Q个操作。您需要编写一个程序以支持下列几种操作：

1.在字符串s的末尾添加一个字符串；

2.在字符串s的前端添加一个字符串的反序；

3.查询字符串s的所有非空回文子串的数量。
s的两个子串视为不同，当且仅当这两个子串的长度不同或者这两个子串在s中的起始位置不同。s的反序字符串定义为将s中前后对称位置的字符两两对调位置后形成的字符串。

### 输入描述

```
输入文件第一行包含一个字符串s。

输入文件第二行包含一个整数Q，表示操作的数量。

接下来Q行，每行首先包含一个整数 ，其含义如下所示：

1：在字符串s的末尾添加一个字符串；
2：在字符串s的前端添加一个字符串的 反序；
3：查询字符串s的所有非空回文子串的数量。
若op为 1 或 2，则接下来会给出一个字符串t，表示要在末尾或前端添加的字符串。
```
### 输出描述

```
对于每个op为 3 的操作，分别在单独的一行上输出此s中非空回文子串的数量。
```

### 测试样例
#### 输入
```
a
5
3
1 bba
3
2 ab
3

```
#### 输出
```
1
6
10
```
